{% extends "base.html" %}
{% block title %}Forgot Password â€“ PM Portal{% endblock %}
{% block content %}
  <h2>Forgot Your Password?</h2>
  <p class="tagline">No worries! Enter your username or email and weâ€™ll send you reset instructions.</p>
  <form action="{{ url_for('forgot_password') }}" method="post" class="forgot-form" autocomplete="off">
    <label for="username">Username or Email</label>
    <div class="input-wrap">
      <span class="input-icon">ðŸ“§</span>
      <input type="text" name="username" id="username" required placeholder="Enter your username or email" autofocus />
    </div>
    <button type="submit" class="stripe-btn forgot-btn">ðŸ”‘ Send Reset Link</button>
  </form>
  {% if message %}
    <div class="reset-message">{{ message }}</div>
  {% endif %}
  <div class="forgot-links">
    <a href="{{ url_for('login') }}">Back to Login</a>
  </div>
  <style>
    .forgot-form {
      display: flex;
      flex-direction: column;
      align-items: stretch;
      gap: 1.2rem;
      max-width: 370px;
      margin: 2.3rem auto 0 auto;
      background: rgba(13,30,50,0.13);
      border-radius: 12px;
      padding: 2rem 1.7rem 1.3rem 1.7rem;
      box-shadow: 0 2px 16px #2681c822;
    }
    .forgot-form label {
      font-weight: 700;
      color: #eaf6fb;
      margin-bottom: 0.22em;
      text-align: left;
      font-size: 1.07em;
      margin-top: 0.4em;
    }
    .input-wrap {
      position: relative;
      display: flex;
      align-items: center;
    }
    .input-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 1.14em;
      color: #42a5f5;
      pointer-events: none;
    }
    .forgot-form input[type="text"] {
      width: 100%;
      padding: 0.75em 0.6em 0.75em 2.2em;
      border-radius: 7px;
      border: 1px solid #69b5fa;
      background: #e3f2fd;
      color: #1a2940;
      font-size: 1.08em;
      font-weight: 600;
      margin-bottom: 0.05em;
      transition: border 0.2s, box-shadow 0.2s;
      box-sizing: border-box;
    }
    .forgot-form input:focus {
      border-color: #3498db;
      outline: none;
      box-shadow: 0 0 0 2px #3498db55;
    }
    .forgot-btn {
      margin-top: 1.2rem;
      width: 100%;
      font-size: 1.13em;
      padding: 0.85em 0;
      letter-spacing: 0.01em;
    }
    .reset-message {
      margin-top: 1.4em;
      color: #42ffb5;
      font-weight: 600;
      text-align: center;
    }
    .forgot-links {
      margin-top: 1.7em;
      text-align: center;
      font-size: 1.05em;
      color: #b2ebf2;
    }
    .forgot-links a {
      color: #42b0ff;
      font-weight: 600;
      text-decoration: underline;
      transition: color 0.16s;
    }
    .forgot-links a:hover {
      color: #fff;
    }
    @media (max-width: 600px) {
      .forgot-form { padding: 1.4rem 0.7rem; max-width: 100%; }
    }
  </style>
{% endblock %}
